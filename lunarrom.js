function load_bin(codestr) {

	var i,j,ln,m,st
	st=codestr.split("\n")
	var nb=0
	//skip first line - header in
	//lsb/msb start and msb/lsb exec
	ln = st[0].split(" ")
	st_addr   = str2num("$"+ln[1]) + str2num("$"+ln[2])*256
	exec_addr = str2num("$"+ln[3]) + str2num("$"+ln[4])*256
	
	for (j=1; j<st.length; j++) {
		ln = st[j].split(" ")
		for (i=1; i<ln.length; i++)
		{
			if (ln[i] != "") {
				mem[st_addr+nb] = str2num("$"+ln[i])  // by passes ROM protection
				nb += 1
			}
		}
	}
	print_mon("Loaded " + hex4(st_addr) + "-" + hex4(st_addr+nb-1) + " Execute from: " + hex4(exec_addr) + "\n")	

	return [st_addr, exec_addr]
}
ROM=
"0000 00 29 00 29 00 00 00 00 00 00 00 00 00 00 00 00 \n" + 
"0010 0d 00 00 52 45 4d 20 2f 2f 20 4c 55 4e 41 52 20 \n" + 
"0020 4c 41 4e 44 45 52 20 2f 2f 20 56 32 0d 00 05 43 \n" + 
"0030 4c 45 41 52 30 3b 51 3d 23 42 30 30 31 3b 3f 23 \n" + 
"0040 45 31 3d 30 3b 40 3d 38 0d 00 08 44 49 4d 50 36 \n" + 
"0050 34 3b 46 2e 4e 3d 32 36 54 4f 33 36 3b 50 3f 4e \n" + 
"0060 3d 30 3b 4e 2e 0d 00 0c 46 2e 4e 3d 33 37 54 4f \n" + 
"0070 36 33 3b 50 3f 4e 3d 50 3f 28 4e 2d 31 29 2b 41 \n" + 
"0080 2e 52 2e 25 33 3b 50 3f 28 36 33 2d 4e 29 3d 50 \n" + 
"0090 3f 28 36 34 2d 4e 29 2b 41 2e 52 2e 25 33 3b 4e \n" + 
"00a0 2e 0d 00 10 46 2e 4e 3d 30 54 4f 36 33 3b 4d 4f \n" + 
"00b0 56 45 4e 2c 28 50 3f 4e 29 3b 44 52 41 57 4e 2c \n" + 
"00c0 30 3b 4e 2e 0d 00 14 48 3d 33 36 30 30 30 3b 56 \n" + 
"00d0 3d 32 30 30 30 3b 41 3d 32 0d 00 1e 53 3d 32 3b \n" + 
"00e0 46 3d 32 30 30 30 3b 44 3d 30 3b 57 3d 30 0d 00 \n" + 
"00f0 28 50 2e 24 33 30 22 41 4c 54 49 54 55 44 45 20 \n" + 
"0100 44 45 53 43 45 4e 54 20 20 20 20 46 55 45 4c 20 \n" + 
"0110 20 20 44 52 49 46 54 22 0d 00 32 44 4f 53 3d 38 \n" + 
"0120 0d 00 3c 49 46 51 3f 31 26 23 34 30 53 3d 30 0d \n" + 
"0130 00 46 46 3d 46 2d 53 3b 49 46 46 3c 30 46 3d 30 \n" + 
"0140 3b 53 3d 30 3b 50 2e 24 37 0d 00 4b 44 3d 44 2b \n" + 
"0150 28 3f 51 3a 23 42 46 2d 36 34 29 2f 31 30 0d 00 \n" + 
"0160 50 58 3d 57 2f 31 30 30 3b 59 3d 28 48 2b 39 39 \n" + 
"0170 39 29 2f 31 30 30 30 3b 47 4f 53 2e 66 0d 00 5a \n" + 
"0180 56 3d 56 2d 41 3b 48 3d 48 2d 56 2f 31 30 3b 57 \n" + 
"0190 3d 57 2b 44 0d 00 78 41 3d 53 2a 31 30 2d 35 30 \n" + 
"01a0 0d 00 87 50 2e 24 33 30 27 48 2f 31 30 56 2f 31 \n" + 
"01b0 30 46 2f 31 30 44 0d 00 8c 47 4f 53 2e 66 3b 55 \n" + 
"01c0 2e 59 3c 3d 50 3f 58 20 4f 52 59 3c 3d 50 3f 28 \n" + 
"01d0 58 2b 38 29 0d 00 96 49 46 56 3c 32 30 30 41 4e \n" + 
"01e0 44 48 3c 3d 30 47 4f 53 2e 66 3b 50 2e 22 53 41 \n" + 
"01f0 46 45 20 4c 41 4e 44 49 4e 47 21 22 3b 47 4f 53 \n" + 
"0200 2e 6c 3b 45 2e 0d 00 a0 46 2e 4e 3d 30 54 4f 31 \n" + 
"0210 30 30 3b 51 3f 31 3d 3f 4e 26 34 3b 4e 2e 0d 00 \n" + 
"0220 aa 46 2e 4e 3d 30 54 4f 36 3b 50 4c 4f 54 32 2c \n" + 
"0230 28 52 4e 44 25 34 29 2c 28 52 4e 44 25 34 29 3b \n" + 
"0240 4e 2e 3b 45 2e 0d 03 20 66 4d 4f 56 45 58 2c 28 \n" + 
"0250 59 2b 31 29 3b 50 4c 4f 54 32 2c 34 2c 34 3b 50 \n" + 
"0260 4c 4f 54 32 2c 34 2c 2d 34 0d 03 2a 49 46 53 20 \n" + 
"0270 50 4c 4f 54 31 30 2c 30 2c 2d 32 3b 50 4c 4f 54 \n" + 
"0280 31 30 2c 2d 38 2c 30 0d 03 34 52 2e 0d 03 84 6c \n" + 
"0290 4d 4f 56 45 28 58 2d 32 29 2c 28 59 2b 31 29 3b \n" + 
"02a0 50 4c 4f 54 31 2c 30 2c 35 3b 50 4c 4f 54 39 2c \n" + 
"02b0 31 2c 30 3b 52 2e 0d 00 00 20 28 43 29 20 41 43 \n" + 
"02c0 4f 52 4e 53 4f 46 54 20 31 39 38 30 0d ff 4e 44 \n" + 
"02d0 0d ff 20 49 3f 21 23 32 43 30 30 3d 49 3f 21 23 \n" + 
"02e0 32 43 30 34 3b 4e 2e 3b 45 4e 44 0d ff 4f 44 0d \n" + 
"02f0 a0 80 98 aa ca d0 fd ad 02 b0 49 04 8d 02 b0 88 \n" + 
"0300 d0 f0 60 78 e8 c8 c6 8a d0 f5 86 8f 60 "

load_bin(ROM)
